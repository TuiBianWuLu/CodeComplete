# 第十一章 变量名的力量

### 1.选择好的变量名的注意事项
### 2.为特定的数据类型命名
### 3.命名规则的力量
### 4.非正式命名规则
### 5.标准前缀
### 6.创建具备可读性的短名字
### 7.应该避免的名字

```text
变量名取的好和如何高效编程同样重要，本章所述主要用于变量、对象、基本数据命名
```

#### 11.1 选择好的变量名的注意事项
```text
一个好的变量名应该是可读的、易记的、恰如其分的。为变量命名时最重要的考虑事项是：改名字要完全、准确地描述出该变量所表达的事物。
```
1.以问题为导向
```text
一个好记的名字通常都是问题，而不是解决方案。通常表达的是："什么"(what),而不是"如何"(how),取名字尽量反映出问题本身
```
2.最适当的名字长度
```text
太短的名字无法传达足够的信息，变量名平均在10-16个字符的时候，调试程序所耗费的气力是最小的，当然不是要求将变量名控制在这个范围内，
强调的是：你需要确保这些名字含义足够清晰
```
3.作用域对变量名的影响
```text
如果你在程序中定义了变量、常量，那么就需要考虑是否采用某种方式进行划分，避免生命名冲突
```
4.变量名中的计算值限定词
```text
如果你的程序中使用了类似：total、sum、average 等限定词命名，请记住把限定词放到名字的最后。一致性可以提高可读性，简化维护工作
```
5.变量名中常用的对仗词
* begin/end
* first/last
* locked/unlocked
* min/max
* next/previous
* old/new
* opened/closed
* visible/invisible
* source/target
* up/down


#### 11.2 为特定类型的数据命名
1. 为循环下标命名
2. 为状态变量命名
3. 为临时变量命名
4. 为布尔变量命名
5. 为枚举类型命名
6. 为常量命名

#### 11.3 命名规则的力量
1. 为什么要有规则
    * 要求按规矩办事
    * 有助于在项目之间传递知识
    * 有助于你再新项目中更快学习代码
    * 有助于减少名字增生
    * 弥补编程语言的不足之处
    * 强调相关变量之间的关系 
2. 何时采用命名规则
    * 多名程序员开发一个项目
    * 把一个项目交接给另外一名程序员维护时
    * CodeReview时
    * 程序周期过长时
    * 当你希望项目中使用标准术语和缩写时
3. 正式程度
```text
通常，你所需的正式程度取决于为同一程序工作的人员数量、成员规模以及程序预期的声明周期。
对于微小的项目，用完即弃的项目来说，实施严格的规则可能没有必要了。
```

#### 11.4 非正式命名规则
##### 1. 与语言无关的命名规则的指导原则：
* 区分变量名和子程序名字
* 区分类和对象
* 标识全局变量
* 标识成员变量
* 标识类型声明
* 标识具名常量
* 标识枚举类型的元素
* 在不能保证输入参数只读的语言里标识只读参数
* 格式化命名以提高可读性

##### 2. 与语言相关的命名规则的指导原则：
1. c 的命名规则
    * c和n是字符变量
    * i和j是整数下标
    * n是标识某物的数量
    * p是指针
    * s是字符串
    * 预处理宏全部大写
    * 变量名和子程序全部小写
    * 下划线(_)做分隔符可读性高
    * i和j是整数下标
2. c++ 的命名规则
    * i和j是整数下标
    * p是指针
    * 常量、typedef和预处理宏全部大写
    * 类和其他类型的名字混合大小写（ThirdCompanyInv）
    * 变量名和函数中的首字母小写，后续每个单词首字母大写（thirdCompanyInv）
    * 不把下划线用作名字中的分隔符
3. java的规则
    * i和j是整数下标
    * 常量全部大写，并用下划线分割
    * 类名和接口名中每一个单词的首字母均大写，包括第一个单词
    * 变量名和方法名中第一个单词的首字母小写，后续单词首字母大写
    * 除用于全部大写的名字之外，不使用下划线作为名字分隔符
    * 访问器子程序使用get和set前缀
    
##### 3. 混合语言编程的注意事项
```text
在混合语言编程时，可以对命名规则、格式规则、文档规则等作出优化以提高整体的一致性和可读性
```
#### 11.5 标准前缀
```text
对于具有通用含义的前缀标准化，为数据命名提供了一种简洁、一直可读性好的方法。有关标准前缀最广为人知的方案是匈牙利命名法，
该方案由一组用于指导变量和子程序命名的详细原则组成。标准前缀分成两部分：用户自定义和语义前缀。
```
1. 用户自定义类型缩写(User-Defined Type Abbreviations)
```text
UDT缩写何以标识被命名对象或变量的数据类型。UDT缩写可以被用于表示像窗体、屏幕区域以及字体一类的实体。UDT缩写通常不会表示任何由编程语言所提供的预置数据类型
```
|UDT缩写|含义|
|---|---|
|ch|字符（Character,这里的字符不是指c++中的字符，而是指文字处理程序可以用于标识一份文档中的字符的数据类型）|
|doc|文档（Document）|
|pa|段落（Paragraph）|
|scr|屏幕区域（Screen region）|
|sel|选中区域（selection）|
|wn|窗体（window）|

2. 语义前缀(Semantic Prefixes)
```text
语义前缀比UDT更进一步，它描述变量和或对象是如何使用的。UDT会根据项目的不同而不同，而语义前缀在某种程度上对于不同的项目是标准的
下面列出一组标准的语义前缀。
```
|语义前缀|含义|
|---|---|
|c|数量（count，记录字符或者其他东西的个数）|
|first|数组中需要处理的第一个元素|
|g|全局变量（global variable）|
|i|数组的下标|
|last|数组中的最后一个元素|

3. 标准前缀的优点
```text
很多名字都已经标准化了，因此你再一个程序或者类内需要记忆的名字更少了。标准前缀能够精确地描述一些含义比较模糊的名字。
min、first、last和max之间的严格区别就显得格外有用，标准化前缀使名字更紧紧凑，列如，你可以用cpa而不是totalParagraphs表示段落总数。
你可以使用ipa表示一个段落数组的下标，而不是有用indexParagraphs。
```

#### 11.6 创建具备可读性的短名字
1. 缩写的一般指导原则（有一些原则会彼此冲突，所以不要试图同时应用所有的原则）
    * 使用标准缩写（字典里有）
    * 去掉所有非前置元音（computer变成cmptr,screen变成scrn）
    * 去掉虚词（and、or、the）等
    * 使用每个单词的第一个或前几个字母
    * 统一地在每个单词的第一、第二、第三（选择最合适的一个）字母后截断
    * 保留每个单词的第一个和最后一个字母
    * 使用名字中的每一个重要单词，不超过三个
    * 除去无用的后缀（ing、ed）等
    * 保留每个音节中最引人注意的发音
    * 确保不要改变变量的含义
    * 反复使用上述技巧，直到你把每个变量名的长度缩减到8-20个字符
    
2. 有关缩写需要避免的错误的规则
    * 不要从每个单词中删除一个字符的方式缩写
    * 缩写要一致
    * 创建你能读出来的名字
    * 避免使用容易看错或者读错的字符组合
    * 使用词典来解决命名冲突
    * 在代码里使用缩写对照表解释极短名字的含义
    * 在一份项目文档中说明缩写规则
    * 记住，名字对代码读者的意义要比对作者更重要
    
#### 11.7 应该避免的名字
1. 避免使用令人误解的名字
2. 避免使用具有不同含义但却有相似名字的变量
3. 避免使用发音相近的名字
4. 避免在名字中使用数字
5. 避免在名字中拼错单词
6. 避免使用英语中经常拼错的单词
7. 不要仅靠大小写来区分变量名
8. 避免使用多种自然语言
9. 避免使用标准类型、变量和子程序的名字
10. 不要使用与变量含义无关的名字
11. 避免在名字中包含易混淆的数字

#### 总结
1. **好的变量名是提供程序可读性的一项关键因素。对特殊种类的变量，比如循环下标和状态变量，需要加以特殊的考虑**
2. **名字要尽可能地具体。那些太模糊或者太通用以至于能够用于多种目的的名字通常都不是很好**
3. **命名规则应该能够区分局部数据、数据类型、类数据和全局数据。它们还可以区分类型名、具名常量、枚举类型名和变量名**
4. **无论做那种类型的项目，你都应该采用某种变量命名规则**0
5. **现代编程语言很少需要用到缩写。如果你真得要使用缩写，请使用项目缩写词典或者标准前缀来帮助理解缩写**
6. **代码阅读次数远远多于编写的次数，确保你所取的名字更侧重于便于阅读方便而不是编写方便**